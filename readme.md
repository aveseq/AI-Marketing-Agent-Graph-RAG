# ğŸ¤– AI Marketing Research Agent with Graph RAG

An intelligent AI agent that analyzes advertising campaign performance and generates actionable recommendations using Graph-based Retrieval Augmented Generation (Graph RAG).

![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-green.svg)
![License](https://img.shields.io/badge/License-MIT-yellow.svg)

## ğŸ¯ Overview

This project implements a production-ready AI agent that helps marketers optimize their advertising campaigns. Unlike traditional AI that gives generic advice, this agent uses a structured knowledge graph to provide specific, data-driven recommendations with proven performance lifts.

### Key Features

- ğŸ§  **Graph RAG Architecture**: Structured knowledge graph with marketing domain expertise
- ğŸ¤– **5-Step Agentic Workflow**: Systematic analysis like a human consultant
- ğŸš€ **FastAPI Backend**: Production-ready REST API with auto-generated documentation
- ğŸ“Š **Comprehensive Evaluation**: Relevance scoring, hallucination detection, confidence calibration
- ğŸ“ˆ **Continuous Learning**: Improves recommendations based on feedback and patterns
- âœ… **Zero Hallucination**: All insights traced to knowledge graph relationships


## ğŸš€ Quick Start

### Installation
```bash
# Clone the repository
git clone https://github.com/aveseq/AI-Marketing-Agent-Graph-RAG.git
cd AI-Marketing-Agent-Graph-RAG

# Create virtual environment
python -m venv venv
venv\Scripts\activate  # Windows
source venv/bin/activate  # Mac/Linux

# Install dependencies
pip install -r requirements.txt
```

### Run the Server
```bash
python main.py
```

Visit **http://localhost:8000/docs** for interactive API documentation.

### Test with Sample Data
```bash
# In a new terminal
venv\Scripts\activate
python test_client.py
```

## ğŸ“Š API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/` | API information |
| GET | `/health` | Health check |
| POST | `/run-agent` | **Main analysis endpoint** - Upload CSV and get insights |
| GET | `/metrics` | Agent performance metrics |
| GET | `/knowledge-graph` | View knowledge graph structure |
| POST | `/feedback` | Submit feedback for learning |

## ğŸ§  How It Works

### Graph RAG vs Traditional RAG

**Traditional RAG:**
- Searches unstructured text
- Vector similarity matching
- Single-hop retrieval
- Prone to hallucinations

**Graph RAG (This Project):**
- Traverses structured relationships
- Multi-hop reasoning
- Quantified correlations (e.g., "UGC â†’ Purchase Intent = +45% lift")
- Zero hallucination (all insights from graph)

### 5-Step Agentic Workflow

1. **Data Extraction & Validation** - Validates CSV and calculates metrics (CTR, CVR, CPC, CPA)
2. **Performance Analysis** - Identifies top/bottom performers and calculates aggregates
3. **Graph Traversal** - Queries knowledge graph for relevant patterns
4. **Recommendation Generation** - Creates specific, actionable suggestions with expected lift
5. **Memory Update** - Stores analysis and updates confidence scores

## ğŸ“ˆ Example Output
```json
{
  "performance_analysis": {
    "summary": {
      "total_campaigns": 12,
      "avg_ctr": 2.45,
      "avg_cvr": 3.2,
      "total_spend": 45000
    }
  },
  "graph_insights": [
    "Intent:Purchase â†’ Creative:UGC shows 45% lift",
    "Platform:Meta â†’ Creative:UGC shows 62% CTR increase"
  ],
  "creative_recommendations": [
    {
      "category": "Ad Copy",
      "priority": "high",
      "suggestion": "Use urgency-driven language: 'Limited time: 40% off'",
      "expected_lift": "25-35%",
      "reasoning": "Low CTR indicates weak ad hook. Urgency creates FOMO."
    }
  ],
  "evaluation_metrics": {
    "relevance_score": 0.85,
    "hallucination_rate": 0.05
  }
}
```

## ğŸ› ï¸ Technology Stack

- **Backend:** FastAPI 0.104.1
- **Data Processing:** Pandas 2.1.3, NumPy 1.26.2
- **Validation:** Pydantic 2.5.0
- **Knowledge Graph:** Custom implementation with Python
- **API Documentation:** Auto-generated by FastAPI (Swagger UI)

## ğŸ“ Project Structure
```
AI-Marketing-Agent-Graph-RAG/
â”œâ”€â”€ main.py                 # FastAPI backend with agent logic
â”œâ”€â”€ test_client.py          # Automated testing script
â”œâ”€â”€ requirements.txt        # Python dependencies
â”œâ”€â”€ README.md              # This file
â””â”€â”€ .gitignore             # Git ignore rules
```

## ğŸ¯ Key Achievements

âœ… **Graph-Based RAG**: Structured knowledge representation with quantified relationships  
âœ… **Multi-Step Reasoning**: Systematic 5-step workflow like human analysts  
âœ… **Production-Ready**: Complete error handling, validation, and documentation  
âœ… **Evaluation Framework**: Relevance scoring, hallucination detection, confidence metrics  
âœ… **Continuous Learning**: Memory modules and feedback loops for improvement  

## ğŸ”® Future Enhancements

- [ ] LLM integration (Claude/GPT) for natural language generation
- [ ] Vector embeddings for creative asset recommendations
- [ ] Real-time Meta/Google Ads API integration
- [ ] Causal inference instead of correlations
- [ ] Visual dashboard for graph traversal paths
- [ ] Industry-specific knowledge graphs (e-commerce, B2B, SaaS)

## ğŸ“ License

This project is licensed under the MIT License.

## ğŸ‘¤ Author

**Your Name**
- GitHub: [@YourUsername](https://github.com/aveseq)
- LinkedIn: [Your LinkedIn](https://linkedin.com/in/aveseq)
- Email: aveseq.pvt@gmail.com
